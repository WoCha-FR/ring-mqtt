<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {font-family: Arial, Helvetica, sans-serif; max-width: 500px; color: white; background-color: gray;}
* {box-sizing: border-box;}

input[type=text], select, textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  margin-top: 6px;
  margin-bottom: 16px;
  resize: vertical;
}

input[type=password], select, textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  margin-top: 6px;
  margin-bottom: 16px;
  resize: vertical;
}

input[type=submit] {
  background-color: #47a9e6;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #315b82;
}

.container {
  max-width: 500px;
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 20px;
  color: black;
}
</style>
</head>
<body>

<h2>Acquérir un jeton de rafraîchissement</h2>
<h3 id="systemId"></h3>
Saisissez les informations de votre compte Ring ci-dessous et le code 2FA sur la page suivante pour générer le jeton de rafraîchissement requis pour que cette application puisse accéder à l'API Ring.<br>
<p style="background-color:red" id="errormsg"></p>
<h3>Identifiants RING</h3>
<div class="container">
  <form action="./submit-account" method="post">
    <label for="email">Email</label>
    <input type="text" id="email" name="email">
    <label for="password">Mot de Passe</label>
    <input type="password" id="password" name="password">
    <input type="checkbox" onclick="showPassword()">Afficher mot de passe
    <br><br>
    <input type="submit" value="Submit">
  </form>
</div>
<script>
  function showPassword() {
    var x = document.getElementById("password");
    if (x.type === "password") {
        x.type = "text";
    } else {
        x.type = "password";
    }
  }
  function getCookie(key) {
    var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
    return keyValue ? keyValue[2] : null;
  }
  if (getCookie('error')) {
    document.getElementById("errormsg").innerHTML = getCookie('error')
  }
  if (getCookie('systemId')) {
    document.getElementById("systemId").innerHTML = `Nom appareil: <span style='color:chartreuse'> ${getCookie('systemId')}</span>`
  }
</script>
</body>
</html>
