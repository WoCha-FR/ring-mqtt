<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {font-family: Arial, Helvetica, sans-serif; max-width: 500px; color: white; background-color: gray;}

input[type=submit] {
  background-color: #47a9e6;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

input[type=submit]:hover {
  background-color: #315b82;
}

.container {
  padding: 20px 5px;
}
</style>
</head>
<body>
<h2>Connecté à RING</h2>
<h3 id="systemId"></h3>
Il semble que le module soit déjà authentifié et connecté à l'API Ring, aucune action supplémentaire n'est requise.
Si vous souhaitez forcer une nouvelle authentification, par exemple pour changer le compte utilisé par cet addon, cliquez sur le bouton ci-dessous pour redémarrer le processus d'authentification.
<div class="container">
  <form action="./force-token-generation" method="get">
    <input type="submit" value="Force Reauthentication">
  </form>
</div>
<script>
  function getCookie(key) {
    var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
    return keyValue ? keyValue[2] : null;
  }
  if (getCookie('systemId')) {
    document.getElementById("systemId").innerHTML = `Nom appareil: <span style='color:chartreuse'> ${getCookie('systemId')}</span>`
  }
</script>
</body>
</html>
